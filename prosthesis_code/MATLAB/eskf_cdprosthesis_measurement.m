function [yout,y_dx] = eskf_cdprosthesis_measurement(in1,in2,in3,dt,in5,in6)
%ESKF_CDPROSTHESIS_MEASUREMENT
%    [YOUT,Y_DX] = ESKF_CDPROSTHESIS_MEASUREMENT(IN1,IN2,IN3,DT,IN5,IN6)

%    This function was generated by the Symbolic Math Toolbox version 8.6.
%    12-Jun-2021 08:54:12

block_yaw1 = in1(39,:);
footp1 = in1(1,:);
footp2 = in1(2,:);
footp3 = in1(3,:);
footv1 = in1(4,:);
footv2 = in1(5,:);
footv3 = in1(6,:);
footquat1 = in1(7,:);
footquat2 = in1(8,:);
footquat3 = in1(9,:);
footquat4 = in1(10,:);
footmdist1 = in1(17,:);
footmdist2 = in1(18,:);
footmdist3 = in1(19,:);
mag_north1 = in1(40,:);
mag_north2 = in1(41,:);
mag_north3 = in1(42,:);
r1a1 = in5(1,:);
r1a2 = in5(2,:);
r1a3 = in5(3,:);
r2a1 = in6(1,:);
r2a2 = in6(2,:);
r2a3 = in6(3,:);
shankp1 = in1(20,:);
shankp2 = in1(21,:);
shankp3 = in1(22,:);
shankquat1 = in1(26,:);
shankquat2 = in1(27,:);
shankquat3 = in1(28,:);
shankquat4 = in1(29,:);
shankmdist1 = in1(36,:);
shankmdist2 = in1(37,:);
shankmdist3 = in1(38,:);
t2 = footquat1.^2;
t3 = footquat2.^2;
t4 = footquat3.^2;
t5 = footquat4.^2;
t6 = shankquat1.^2;
t7 = shankquat2.^2;
t8 = shankquat3.^2;
t9 = shankquat4.^2;
t10 = t2+t3+t4+t5;
t11 = t6+t7+t8+t9;
t12 = 1.0./t11;
t13 = 1.0./t10;
t14 = footquat1.*footquat2.*t13.*2.0;
t15 = footquat1.*footquat3.*t13.*2.0;
t16 = footquat1.*footquat4.*t13.*2.0;
t17 = footquat2.*footquat3.*t13.*2.0;
t18 = footquat2.*footquat4.*t13.*2.0;
t19 = footquat3.*footquat4.*t13.*2.0;
t20 = t6.*t12;
t21 = t7.*t12;
t22 = t8.*t12;
t23 = t9.*t12;
t24 = shankquat1.*shankquat2.*t12.*2.0;
t25 = shankquat1.*shankquat3.*t12.*2.0;
t26 = shankquat1.*shankquat4.*t12.*2.0;
t27 = shankquat2.*shankquat3.*t12.*2.0;
t28 = shankquat2.*shankquat4.*t12.*2.0;
t29 = shankquat3.*shankquat4.*t12.*2.0;
t30 = t2.*t13;
t31 = t3.*t13;
t32 = t4.*t13;
t33 = t5.*t13;
t34 = -t17;
t35 = -t18;
t36 = -t19;
t37 = t21.*2.0;
t38 = t22.*2.0;
t39 = t23.*2.0;
t40 = -t27;
t41 = -t28;
t42 = -t29;
t43 = t31.*2.0;
t44 = t32.*2.0;
t45 = t33.*2.0;
t46 = -t21;
t48 = -t22;
t50 = -t23;
t52 = -t31;
t54 = -t32;
t56 = -t33;
t58 = t24+t29;
t59 = t25+t28;
t60 = t26+t27;
t61 = t14+t19;
t62 = t15+t18;
t63 = t16+t17;
t47 = -t37;
t49 = -t38;
t51 = -t39;
t53 = -t43;
t55 = -t44;
t57 = -t45;
t64 = t24+t42;
t65 = t25+t41;
t66 = t26+t40;
t67 = t14+t36;
t68 = t15+t35;
t69 = t16+t34;
t70 = r1a1.*t63;
t71 = r1a2.*t61;
t72 = r1a3.*t62;
t73 = r2a1.*t60;
t74 = r2a2.*t58;
t75 = r2a3.*t59;
t82 = t43+t44-1.0;
t83 = t43+t45-1.0;
t84 = t44+t45-1.0;
t88 = t37+t38-1.0;
t89 = t37+t39-1.0;
t90 = t38+t39-1.0;
t94 = t59.*t63;
t95 = t60.*t63;
t100 = t30+t31+t54+t56;
t101 = t30+t32+t52+t56;
t102 = t30+t33+t52+t54;
t103 = t20+t21+t48+t50;
t104 = t20+t22+t46+t50;
t105 = t20+t23+t46+t48;
t76 = r1a1.*t68;
t77 = r1a2.*t69;
t78 = r1a3.*t67;
t79 = r2a1.*t65;
t80 = r2a2.*t66;
t81 = r2a3.*t64;
t85 = -t73;
t86 = -t74;
t87 = -t75;
t96 = t63.*t64;
t97 = t63.*t65;
t98 = t59.*t68;
t99 = t60.*t68;
t106 = t64.*t68;
t107 = t65.*t68;
t110 = r1a1.*t100;
t111 = r1a2.*t101;
t112 = r1a3.*t102;
t113 = r2a1.*t103;
t114 = r2a2.*t104;
t115 = r2a3.*t105;
t116 = t59.*t84;
t117 = t68.*t88;
t119 = t84.*t90;
t91 = -t76;
t92 = -t77;
t93 = -t78;
t108 = -t98;
t109 = -t99;
t118 = -t117;
t121 = t95+t107+t119;
t120 = t97+t109;
t122 = t96+t116+t118;
t123 = 1.0./t121;
yout = [footmdist1+mag_north2.*t63-mag_north3.*t68-mag_north1.*t84;footmdist2+mag_north3.*t61-mag_north1.*t69-mag_north2.*t83;footmdist3+mag_north1.*t62-mag_north2.*t67-mag_north3.*t82;shankmdist1+mag_north2.*t60-mag_north3.*t65-mag_north1.*t90;shankmdist2+mag_north3.*t58-mag_north1.*t66-mag_north2.*t89;shankmdist3+mag_north1.*t59-mag_north2.*t64-mag_north3.*t88;footp1-shankp1+t72+t80+t87+t92-r1a1.*t84+r2a1.*t90;footp2-shankp2+t70+t81+t85+t93-r1a2.*t83+r2a2.*t89;footp3-shankp3+t71+t79+t86+t91-r1a3.*t82+r2a3.*t88;-block_yaw1+atan(t122.*t123);footv1;footv2;footv3];
if nargout > 1
    t124 = t123.^2;
    t125 = t122.^2;
    t126 = t124.*t125;
    t129 = t120.*t122.*t124;
    t127 = t126+1.0;
    t128 = 1.0./t127;
    y_dx = reshape([0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,mag_north3.*t63+mag_north2.*t68,-mag_north2.*t61+mag_north3.*t101,-mag_north3.*t67-mag_north2.*t102,0.0,0.0,0.0,0.0,-t71+t76-t112,t70+t93+t111,t128.*(t129+t123.*(t106+t63.*t88)),0.0,0.0,0.0,-mag_north1.*t68-mag_north3.*t100,mag_north1.*t61+mag_north3.*t69,-mag_north3.*t62+mag_north1.*t102,0.0,0.0,0.0,t71+t91+t112,0.0,-t72+t77-t110,t128.*(t123.*(t98-t88.*t100)-t122.*t124.*(t68.*t90+t65.*t100)),0.0,0.0,0.0,-mag_north1.*t63+mag_north2.*t100,-mag_north2.*t69-mag_north1.*t101,mag_north2.*t62+mag_north1.*t67,0.0,0.0,0.0,-t70+t78-t111,t72+t92+t110,0.0,t128.*(t123.*(t94+t64.*t100)-t122.*t124.*(t63.*t90+t60.*t100)),0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,mag_north3.*t60+mag_north2.*t65,-mag_north2.*t58+mag_north3.*t104,-mag_north3.*t64-mag_north2.*t105,0.0,t74-t79+t115,t81+t85-t114,-t128.*(t129+t123.*(t106-t63.*t105)),0.0,0.0,0.0,0.0,0.0,0.0,-mag_north1.*t65-mag_north3.*t103,mag_north1.*t58+mag_north3.*t66,-mag_north3.*t59+mag_north1.*t105,t79+t86-t115,0.0,t75-t80+t113,-t128.*(t123.*(t98-t84.*t105)+t122.*t124.*(t65.*t84+t68.*t103)),0.0,0.0,0.0,0.0,0.0,0.0,-mag_north1.*t60+mag_north2.*t103,-mag_north2.*t66-mag_north1.*t104,mag_north2.*t59+mag_north1.*t64,t73-t81+t114,t80+t87-t113,0.0,-t128.*(t123.*(t94-t64.*t84)+t122.*t124.*(t60.*t84+t63.*t103)),0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-1.0,0.0,0.0,0.0,t55+t57+1.0,-t16+t17,t62,t49+t51+1.0,-t26+t27,t59,0.0,0.0,0.0,0.0,0.0,0.0,0.0,t63,t53+t57+1.0,-t14+t19,t60,t47+t51+1.0,-t24+t29,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t15+t18,t61,t53+t55+1.0,-t25+t28,t58,t47+t49+1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[13,40]);
end
